{
  "{\"sourceRoot\":\"/Users/alex/Documents/GitHub/reap-remover/\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/alex/Documents/GitHub/reap-remover\",\"filename\":\"/Users/alex/Documents/GitHub/reap-remover/remove-reap.js\",\"cloneInputAst\":true,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/alex/Documents/GitHub/reap-remover\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/alex/Documents/GitHub/reap-remover/",
      "babelrc": false,
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/alex/Documents/GitHub/reap-remover",
      "filename": "/Users/alex/Documents/GitHub/reap-remover/remove-reap.js",
      "cloneInputAst": true,
      "configFile": false,
      "envName": "development",
      "root": "/Users/alex/Documents/GitHub/reap-remover",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-flow-strip-types",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            },
            "ImportDeclaration": {
              "enter": [
                null,
                null
              ]
            },
            "ClassPrivateProperty": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "TypeCastExpression": {
              "enter": [
                null,
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "ImportSpecifier": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "AnyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ArrayTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ClassImplements": {
              "enter": [
                null
              ]
            },
            "DeclareClass": {
              "enter": [
                null
              ]
            },
            "DeclareFunction": {
              "enter": [
                null
              ]
            },
            "DeclareInterface": {
              "enter": [
                null
              ]
            },
            "DeclareModule": {
              "enter": [
                null
              ]
            },
            "DeclareModuleExports": {
              "enter": [
                null
              ]
            },
            "DeclareTypeAlias": {
              "enter": [
                null
              ]
            },
            "DeclareOpaqueType": {
              "enter": [
                null
              ]
            },
            "DeclareVariable": {
              "enter": [
                null
              ]
            },
            "DeclareExportDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclareExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclaredPredicate": {
              "enter": [
                null
              ]
            },
            "ExistsTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeParam": {
              "enter": [
                null
              ]
            },
            "GenericTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "InferredPredicate": {
              "enter": [
                null
              ]
            },
            "InterfaceExtends": {
              "enter": [
                null
              ]
            },
            "InterfaceDeclaration": {
              "enter": [
                null
              ]
            },
            "InterfaceTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "IntersectionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "MixedTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "EmptyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullableTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeInternalSlot": {
              "enter": [
                null
              ]
            },
            "ObjectTypeCallProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeIndexer": {
              "enter": [
                null
              ]
            },
            "ObjectTypeProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeSpreadProperty": {
              "enter": [
                null
              ]
            },
            "OpaqueType": {
              "enter": [
                null
              ]
            },
            "QualifiedTypeIdentifier": {
              "enter": [
                null
              ]
            },
            "StringLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "StringTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "SymbolTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ThisTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TupleTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeofTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeAlias": {
              "enter": [
                null
              ]
            },
            "TypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeParameter": {
              "enter": [
                null
              ]
            },
            "TypeParameterDeclaration": {
              "enter": [
                null
              ]
            },
            "TypeParameterInstantiation": {
              "enter": [
                null
              ]
            },
            "UnionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "Variance": {
              "enter": [
                null
              ]
            },
            "VoidTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/alex/Documents/GitHub/reap-remover/remove-reap.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "nullishCoalescingOperator",
          "optionalChaining",
          [
            "flow",
            {}
          ]
        ]
      },
      "generatorOpts": {
        "filename": "/Users/alex/Documents/GitHub/reap-remover/remove-reap.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/alex/Documents/GitHub/reap-remover/",
        "sourceFileName": "remove-reap.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = transformer;\n\n// Press ctrl+space for code completion\nfunction isImport(node, imported) {\n  return node.type === \"ImportDeclaration\" && node.source.value === imported;\n}\n\nfunction isImportSafeReaper(node) {\n  return isImport(node, \"safe-reaper\");\n}\n\nfunction transformer(file, api) {\n  const j = api.jscodeshift;\n  const ast = j(file.source);\n  ast.find(j.ImportDeclaration, isImportSafeReaper).forEach(path => {\n    j(path).replaceWith(\"\");\n  });\n  ast.find(j.Identifier, {\n    name: \"reap\"\n  }).forEach(path => {\n    j(path.parentPath).replaceWith(p => {\n      const params = path.parentPath.node.arguments;\n      let result = \"\";\n      const [source, keys] = params;\n      const parsedKeys = keys.value.split(\".\").join(\"?.\");\n      result = `${source.name}?.${parsedKeys}`;\n\n      if (params.length === 3) {\n        const defaultValue = params[2].value;\n        let parsedValue = typeof defaultValue === \"string\" ? `'${defaultValue}'` : defaultValue;\n        result += ` || ${parsedValue}`;\n      }\n\n      return result;\n      return j.identifier(path.parentPath.node.arguments.map(item => item.name || item.value).join(\"\"));\n    });\n  });\n  return ast.toSource();\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbW92ZS1yZWFwLmpzIl0sIm5hbWVzIjpbImlzSW1wb3J0Iiwibm9kZSIsImltcG9ydGVkIiwidHlwZSIsInNvdXJjZSIsInZhbHVlIiwiaXNJbXBvcnRTYWZlUmVhcGVyIiwidHJhbnNmb3JtZXIiLCJmaWxlIiwiYXBpIiwiaiIsImpzY29kZXNoaWZ0IiwiYXN0IiwiZmluZCIsIkltcG9ydERlY2xhcmF0aW9uIiwiZm9yRWFjaCIsInBhdGgiLCJyZXBsYWNlV2l0aCIsIklkZW50aWZpZXIiLCJuYW1lIiwicGFyZW50UGF0aCIsInAiLCJwYXJhbXMiLCJhcmd1bWVudHMiLCJyZXN1bHQiLCJrZXlzIiwicGFyc2VkS2V5cyIsInNwbGl0Iiwiam9pbiIsImxlbmd0aCIsImRlZmF1bHRWYWx1ZSIsInBhcnNlZFZhbHVlIiwiaWRlbnRpZmllciIsIm1hcCIsIml0ZW0iLCJ0b1NvdXJjZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0EsU0FBU0EsUUFBVCxDQUFrQkMsSUFBbEIsRUFBd0JDLFFBQXhCLEVBQWtDO0FBQ2hDLFNBQU9ELElBQUksQ0FBQ0UsSUFBTCxLQUFjLG1CQUFkLElBQXFDRixJQUFJLENBQUNHLE1BQUwsQ0FBWUMsS0FBWixLQUFzQkgsUUFBbEU7QUFDRDs7QUFFRCxTQUFTSSxrQkFBVCxDQUE0QkwsSUFBNUIsRUFBa0M7QUFDaEMsU0FBT0QsUUFBUSxDQUFDQyxJQUFELEVBQU8sYUFBUCxDQUFmO0FBQ0Q7O0FBQ2MsU0FBU00sV0FBVCxDQUFxQkMsSUFBckIsRUFBMkJDLEdBQTNCLEVBQWdDO0FBQzdDLFFBQU1DLENBQUMsR0FBR0QsR0FBRyxDQUFDRSxXQUFkO0FBQ0EsUUFBTUMsR0FBRyxHQUFHRixDQUFDLENBQUNGLElBQUksQ0FBQ0osTUFBTixDQUFiO0FBQ0FRLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTSCxDQUFDLENBQUNJLGlCQUFYLEVBQThCUixrQkFBOUIsRUFBa0RTLE9BQWxELENBQTJEQyxJQUFELElBQVU7QUFDbEVOLElBQUFBLENBQUMsQ0FBQ00sSUFBRCxDQUFELENBQVFDLFdBQVIsQ0FBb0IsRUFBcEI7QUFDRCxHQUZEO0FBR0FMLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTSCxDQUFDLENBQUNRLFVBQVgsRUFBdUI7QUFBRUMsSUFBQUEsSUFBSSxFQUFFO0FBQVIsR0FBdkIsRUFBeUNKLE9BQXpDLENBQWtEQyxJQUFELElBQVU7QUFDekROLElBQUFBLENBQUMsQ0FBQ00sSUFBSSxDQUFDSSxVQUFOLENBQUQsQ0FBbUJILFdBQW5CLENBQWdDSSxDQUFELElBQU87QUFDcEMsWUFBTUMsTUFBTSxHQUFHTixJQUFJLENBQUNJLFVBQUwsQ0FBZ0JuQixJQUFoQixDQUFxQnNCLFNBQXBDO0FBQ0EsVUFBSUMsTUFBTSxHQUFHLEVBQWI7QUFDQSxZQUFNLENBQUNwQixNQUFELEVBQVNxQixJQUFULElBQWlCSCxNQUF2QjtBQUNBLFlBQU1JLFVBQVUsR0FBR0QsSUFBSSxDQUFDcEIsS0FBTCxDQUFXc0IsS0FBWCxDQUFpQixHQUFqQixFQUFzQkMsSUFBdEIsQ0FBMkIsSUFBM0IsQ0FBbkI7QUFDQUosTUFBQUEsTUFBTSxHQUFJLEdBQUVwQixNQUFNLENBQUNlLElBQUssS0FBSU8sVUFBVyxFQUF2Qzs7QUFDQSxVQUFJSixNQUFNLENBQUNPLE1BQVAsS0FBa0IsQ0FBdEIsRUFBeUI7QUFDdkIsY0FBTUMsWUFBWSxHQUFHUixNQUFNLENBQUMsQ0FBRCxDQUFOLENBQVVqQixLQUEvQjtBQUNBLFlBQUkwQixXQUFXLEdBQUcsT0FBT0QsWUFBUCxLQUF3QixRQUF4QixHQUFvQyxJQUFHQSxZQUFhLEdBQXBELEdBQXlEQSxZQUEzRTtBQUNBTixRQUFBQSxNQUFNLElBQUssT0FBTU8sV0FBWSxFQUE3QjtBQUNEOztBQUNELGFBQU9QLE1BQVA7QUFDQSxhQUFPZCxDQUFDLENBQUNzQixVQUFGLENBQ0xoQixJQUFJLENBQUNJLFVBQUwsQ0FBZ0JuQixJQUFoQixDQUFxQnNCLFNBQXJCLENBQStCVSxHQUEvQixDQUFvQ0MsSUFBRCxJQUFVQSxJQUFJLENBQUNmLElBQUwsSUFBYWUsSUFBSSxDQUFDN0IsS0FBL0QsRUFBc0V1QixJQUF0RSxDQUEyRSxFQUEzRSxDQURLLENBQVA7QUFHRCxLQWZEO0FBZ0JELEdBakJEO0FBa0JBLFNBQU9oQixHQUFHLENBQUN1QixRQUFKLEVBQVA7QUFDRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYWxleC9Eb2N1bWVudHMvR2l0SHViL3JlYXAtcmVtb3Zlci8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQcmVzcyBjdHJsK3NwYWNlIGZvciBjb2RlIGNvbXBsZXRpb25cbmZ1bmN0aW9uIGlzSW1wb3J0KG5vZGUsIGltcG9ydGVkKSB7XG4gIHJldHVybiBub2RlLnR5cGUgPT09IFwiSW1wb3J0RGVjbGFyYXRpb25cIiAmJiBub2RlLnNvdXJjZS52YWx1ZSA9PT0gaW1wb3J0ZWQ7XG59XG5cbmZ1bmN0aW9uIGlzSW1wb3J0U2FmZVJlYXBlcihub2RlKSB7XG4gIHJldHVybiBpc0ltcG9ydChub2RlLCBcInNhZmUtcmVhcGVyXCIpO1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNmb3JtZXIoZmlsZSwgYXBpKSB7XG4gIGNvbnN0IGogPSBhcGkuanNjb2Rlc2hpZnQ7XG4gIGNvbnN0IGFzdCA9IGooZmlsZS5zb3VyY2UpO1xuICBhc3QuZmluZChqLkltcG9ydERlY2xhcmF0aW9uLCBpc0ltcG9ydFNhZmVSZWFwZXIpLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICBqKHBhdGgpLnJlcGxhY2VXaXRoKFwiXCIpO1xuICB9KTtcbiAgYXN0LmZpbmQoai5JZGVudGlmaWVyLCB7IG5hbWU6IFwicmVhcFwiIH0pLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICBqKHBhdGgucGFyZW50UGF0aCkucmVwbGFjZVdpdGgoKHApID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHBhdGgucGFyZW50UGF0aC5ub2RlLmFyZ3VtZW50cztcbiAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgICAgY29uc3QgW3NvdXJjZSwga2V5c10gPSBwYXJhbXM7XG4gICAgICBjb25zdCBwYXJzZWRLZXlzID0ga2V5cy52YWx1ZS5zcGxpdChcIi5cIikuam9pbihcIj8uXCIpO1xuICAgICAgcmVzdWx0ID0gYCR7c291cmNlLm5hbWV9Py4ke3BhcnNlZEtleXN9YDtcbiAgICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHBhcmFtc1syXS52YWx1ZTtcbiAgICAgICAgbGV0IHBhcnNlZFZhbHVlID0gdHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gXCJzdHJpbmdcIiA/IGAnJHtkZWZhdWx0VmFsdWV9J2AgOiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIHJlc3VsdCArPSBgIHx8ICR7cGFyc2VkVmFsdWV9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICByZXR1cm4gai5pZGVudGlmaWVyKFxuICAgICAgICBwYXRoLnBhcmVudFBhdGgubm9kZS5hcmd1bWVudHMubWFwKChpdGVtKSA9PiBpdGVtLm5hbWUgfHwgaXRlbS52YWx1ZSkuam9pbihcIlwiKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBhc3QudG9Tb3VyY2UoKTtcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "remove-reap.js"
      ],
      "names": [
        "isImport",
        "node",
        "imported",
        "type",
        "source",
        "value",
        "isImportSafeReaper",
        "transformer",
        "file",
        "api",
        "j",
        "jscodeshift",
        "ast",
        "find",
        "ImportDeclaration",
        "forEach",
        "path",
        "replaceWith",
        "Identifier",
        "name",
        "parentPath",
        "p",
        "params",
        "arguments",
        "result",
        "keys",
        "parsedKeys",
        "split",
        "join",
        "length",
        "defaultValue",
        "parsedValue",
        "identifier",
        "map",
        "item",
        "toSource"
      ],
      "mappings": ";;;;;;;AAAA;AACA,SAASA,QAAT,CAAkBC,IAAlB,EAAwBC,QAAxB,EAAkC;AAChC,SAAOD,IAAI,CAACE,IAAL,KAAc,mBAAd,IAAqCF,IAAI,CAACG,MAAL,CAAYC,KAAZ,KAAsBH,QAAlE;AACD;;AAED,SAASI,kBAAT,CAA4BL,IAA5B,EAAkC;AAChC,SAAOD,QAAQ,CAACC,IAAD,EAAO,aAAP,CAAf;AACD;;AACc,SAASM,WAAT,CAAqBC,IAArB,EAA2BC,GAA3B,EAAgC;AAC7C,QAAMC,CAAC,GAAGD,GAAG,CAACE,WAAd;AACA,QAAMC,GAAG,GAAGF,CAAC,CAACF,IAAI,CAACJ,MAAN,CAAb;AACAQ,EAAAA,GAAG,CAACC,IAAJ,CAASH,CAAC,CAACI,iBAAX,EAA8BR,kBAA9B,EAAkDS,OAAlD,CAA2DC,IAAD,IAAU;AAClEN,IAAAA,CAAC,CAACM,IAAD,CAAD,CAAQC,WAAR,CAAoB,EAApB;AACD,GAFD;AAGAL,EAAAA,GAAG,CAACC,IAAJ,CAASH,CAAC,CAACQ,UAAX,EAAuB;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAAvB,EAAyCJ,OAAzC,CAAkDC,IAAD,IAAU;AACzDN,IAAAA,CAAC,CAACM,IAAI,CAACI,UAAN,CAAD,CAAmBH,WAAnB,CAAgCI,CAAD,IAAO;AACpC,YAAMC,MAAM,GAAGN,IAAI,CAACI,UAAL,CAAgBnB,IAAhB,CAAqBsB,SAApC;AACA,UAAIC,MAAM,GAAG,EAAb;AACA,YAAM,CAACpB,MAAD,EAASqB,IAAT,IAAiBH,MAAvB;AACA,YAAMI,UAAU,GAAGD,IAAI,CAACpB,KAAL,CAAWsB,KAAX,CAAiB,GAAjB,EAAsBC,IAAtB,CAA2B,IAA3B,CAAnB;AACAJ,MAAAA,MAAM,GAAI,GAAEpB,MAAM,CAACe,IAAK,KAAIO,UAAW,EAAvC;;AACA,UAAIJ,MAAM,CAACO,MAAP,KAAkB,CAAtB,EAAyB;AACvB,cAAMC,YAAY,GAAGR,MAAM,CAAC,CAAD,CAAN,CAAUjB,KAA/B;AACA,YAAI0B,WAAW,GAAG,OAAOD,YAAP,KAAwB,QAAxB,GAAoC,IAAGA,YAAa,GAApD,GAAyDA,YAA3E;AACAN,QAAAA,MAAM,IAAK,OAAMO,WAAY,EAA7B;AACD;;AACD,aAAOP,MAAP;AACA,aAAOd,CAAC,CAACsB,UAAF,CACLhB,IAAI,CAACI,UAAL,CAAgBnB,IAAhB,CAAqBsB,SAArB,CAA+BU,GAA/B,CAAoCC,IAAD,IAAUA,IAAI,CAACf,IAAL,IAAae,IAAI,CAAC7B,KAA/D,EAAsEuB,IAAtE,CAA2E,EAA3E,CADK,CAAP;AAGD,KAfD;AAgBD,GAjBD;AAkBA,SAAOhB,GAAG,CAACuB,QAAJ,EAAP;AACD",
      "sourceRoot": "/Users/alex/Documents/GitHub/reap-remover/",
      "sourcesContent": [
        "// Press ctrl+space for code completion\nfunction isImport(node, imported) {\n  return node.type === \"ImportDeclaration\" && node.source.value === imported;\n}\n\nfunction isImportSafeReaper(node) {\n  return isImport(node, \"safe-reaper\");\n}\nexport default function transformer(file, api) {\n  const j = api.jscodeshift;\n  const ast = j(file.source);\n  ast.find(j.ImportDeclaration, isImportSafeReaper).forEach((path) => {\n    j(path).replaceWith(\"\");\n  });\n  ast.find(j.Identifier, { name: \"reap\" }).forEach((path) => {\n    j(path.parentPath).replaceWith((p) => {\n      const params = path.parentPath.node.arguments;\n      let result = \"\";\n      const [source, keys] = params;\n      const parsedKeys = keys.value.split(\".\").join(\"?.\");\n      result = `${source.name}?.${parsedKeys}`;\n      if (params.length === 3) {\n        const defaultValue = params[2].value;\n        let parsedValue = typeof defaultValue === \"string\" ? `'${defaultValue}'` : defaultValue;\n        result += ` || ${parsedValue}`;\n      }\n      return result;\n      return j.identifier(\n        path.parentPath.node.arguments.map((item) => item.name || item.value).join(\"\")\n      );\n    });\n  });\n  return ast.toSource();\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1604313474009
  }
}